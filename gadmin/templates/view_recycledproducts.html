{% include 'aheader.html' %}

<div class="container mt-5">
    <h2 class="text-center mb-4">Recycled Products</h2>

    <!-- Messages -->
    {% if messages %}
        <div class="alert-container">
            {% for message in messages %}
                <div class="alert {% if message.tags == 'error' %}alert-danger{% else %}alert-success{% endif %}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <!-- Scrollable Table -->
    <div class="table-responsive" style="max-height: 500px; overflow-y: auto; border: 1px solid #ddd; border-radius: 8px;">
        <table class="table table-striped table-bordered text-center">
            <thead class="thead-dark" style="position: sticky; top: 0; background: #007bff; color: white; z-index: 10;">
                <tr>
                    <th>Image</th>
                    <th>Category</th>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Price (₹)</th>
                    <th>SuperCoins</th>
                </tr>
            </thead>
            <tbody>
                {% for product in products %}
                    <tr>
                        <td><img src="{{ product.image.url }}" width="70" height="70" style="border-radius: 5px;"></td>
                        <td>{{ product.category }}</td>
                        <td>{{ product.name }}</td>
                        <td style="max-width: 250px; word-wrap: break-word;">{{ product.description }}</td>
                        <td>₹{{ product.price }}</td>
                        <td>{{ product.supercoin_value }}</td>
                    </tr>
                {% empty %}
                    <tr><td colspan="6" class="text-center">No products added yet.</td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% include 'afooter.html' %}
